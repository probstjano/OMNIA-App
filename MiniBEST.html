<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Mini-BESTest ‚Äì Auswertung</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="robotoBase64.js"></script>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 1000px; margin: auto; background: #f8f8f8; }
    h1 { text-align: center; }
    .question-block { margin-bottom: 25px; }
    .question-block label { font-weight: bold; display: block; margin-bottom: 8px; }
    select { width: 100%; padding: 10px; font-size: 16px; }
    button { padding: 10px 20px; font-size: 16px; margin-top: 20px; }
    #result { margin-top: 30px; font-weight: bold; font-size: 18px; }
  </style>
</head>
<body>
  <h1>Mini Balance Evaluation Systems Test (Mini-BESTest)</h1>
  <p>Test dynamisches Gleichgewicht</p>
  <p>Im Cenplex Behandlungsplan als <strong>Messung</strong> vorhanden. Hier durchf√ºhren und Score √ºbertragen.</p>
  <p>Empfehlung: Vorwiegend der Gesamt-Score verwenden! Die einzelnen Bereiche f√ºr sich alleine sind nicht validiert.</p>
  <p>Detailliertes Durchf√ºhrungsprotokoll hier: <a href="MineBEST_Protokoll.pdf" target="_blank">MiniBEST Protokoll (PDF)</a></p>

  <form id="miniBESTForm">
<div class="question-block">
  <label for="q1">1. VOM SITZEN ZUM STEHEN</label>
  <p><strong>Anweisung:</strong> ‚ÄûVerschr√§nken Sie die Arme vor Ihrer Brust. Versuchen Sie Ihre H√§nde nicht einzusetzen, sofern nicht notwendig. Sie sollten den Stuhl nicht mit der R√ºckseite Ihrer Beine ber√ºhren, wenn Sie stehen. Bitte stehen Sie jetzt auf.‚Äú</p>
  <select name="q1" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: Steht ohne Einsatz der H√§nde auf und stabilisiert sich selbstst√§ndig.</option>
    <option value="1">(1) Moderat: Kommt beim ersten Versuch MIT Einsatz der H√§nde in den Stand.</option>
    <option value="0">(0) Schwer: Kann nicht ohne Unterst√ºtzung vom Stuhl aufstehen ODER ben√∂tigt mehrere Versuche mit Einsatz der H√§nde.</option>
  </select>
</div>
<div class="question-block">
  <label for="q2">2. AUF DIE ZEHENSPITZEN STELLEN</label>
  <p><strong>Anweisung:</strong> ‚ÄûStellen Sie sich schulterbreit hin. Legen Sie die H√§nde auf Ihre H√ºften. Stellen Sie sich so hoch wie m√∂glich auf Ihre Zehenspitzen. Ich werde laut auf drei Sekunden z√§hlen. Versuchen Sie die Position f√ºr mindestens drei Sekunden zu halten. Schauen Sie gerade aus und stellen Sie sich jetzt auf Ihre Zehenspitzen.‚Äú</p>
  <select name="q2" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: Stabil f√ºr 3 Sek. bei maximaler H√∂he.</option>
    <option value="1">(1) Moderat: Fersen sind vom Boden abgehoben, aber nicht in vollem Ausma√ü (weniger als zwei zusammengefaltete H√§nde) ODER deutliche Instabilit√§t w√§hrend der 3 Sek.</option>
    <option value="0">(0) Schwer: ‚â§ 3 Sek.</option>
  </select>
</div>
<div class="question-block">
  <label for="q3">3. AUF EINEM BEIN STEHEN</label>
  <p><strong>Anweisung:</strong> ‚ÄûSchauen Sie geradeaus. Behalten Sie Ihre H√§nde auf den H√ºften. Heben Sie Ihr Bein vom Boden nach hinten ab, ohne Ihr Standbein mit Ihrem freien Bein zu ber√ºhren oder es aufzust√ºtzen. Bleiben Sie so lange wie m√∂glich auf einem Bein stehen. Schauen Sie geradeaus. Heben Sie nun Ihr Bein an.‚Äú</p>
  <select name="q3" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: 20 Sek.</option>
    <option value="1">(1) Moderat: < 20 Sek.</option>
    <option value="0">(0) Schwer: Nicht m√∂glich.</option>
  </select>
</div>
<div class="question-block">
  <label for="q4">4. KOMPENSATORISCHE SCHUTZSCHRITTE - VORW√ÑRTS</label>
  <p><strong>Anweisung:</strong> ‚ÄûStellen Sie sich schulterbreit hin, mit den Armen an Ihrer Seite. Lehnen Sie sich nach vorne gegen meine H√§nde, auch weiter als Sie das ohne meine Unterst√ºtzung tun k√∂nnten. Wenn ich loslasse, tun Sie was auch immer notwendig ist, einschlie√ülich eines Schrittes, um einen Sturz zu vermeiden.‚Äú</p>
  <select name="q4" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: Kompensiert selbstst√§ndig mit einem einzelnen, gro√üen Schritt (ein zweiter Schritt zur Anpassung ist erlaubt).</option>
    <option value="1">(1) Moderat: Mehr als ein Schritt wird ben√∂tigt, um das Gleichgewicht wieder herzustellen.</option>
    <option value="0">(0) Schwer: Kein Schritt ODER w√ºrde st√ºrzen, wenn nicht aufgefangen ODER st√ºrzt unwillk√ºrlich.</option>
  </select>
</div>
<div class="question-block">
  <label for="q5">5. KOMPENSATORISCHE SCHUTZSCHRITTE - R√úCKW√ÑRTS</label>
  <p><strong>Anweisung:</strong> ‚ÄûStellen Sie sich schulterbreit hin, mit den Armen an Ihrer Seite. Lehnen Sie sich r√ºckw√§rts gegen meine H√§nde, auch weiter als Sie das ohne meine Unterst√ºtzung tun k√∂nnten. Wenn ich loslasse, tun Sie was auch immer notwendig ist, einschlie√ülich eines Schrittes, um einen Sturz zu vermeiden.‚Äú</p>
  <select name="q5" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: Kompensiert selbstst√§ndig mit einem einzelnen, gro√üen Schritt</option>
    <option value="1">(1) Moderat: Mehr als ein Schritt wird ben√∂tigt, um das Gleichgewicht wieder herzustellen.</option>
    <option value="0">(0) Schwer: Kein Schritt ODER w√ºrde st√ºrzen, wenn nicht aufgefangen ODER st√ºrzt unwillk√ºrlich.</option>
  </select>
</div>
<div class="question-block">
  <label for="q6">6. KOMPENSATORISCHE SCHUTZSCHRITTE - SEITW√ÑRTS</label>
  <p><strong>Anweisung:</strong> ‚ÄûStellen Sie sich schulterbreit hin, mit den Armen an Ihrer Seite. Lehnen Sie sich zur Seite in meine H√§nde, auch weiter als Sie das ohne meine Unterst√ºtzung tun k√∂nnten. Wenn ich loslasse, tun Sie was auch immer notwendig ist, einschlie√ülich eines Schrittes, um einen Sturz zu vermeiden.‚Äú</p>
  <select name="q6" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: Kompensiert selbstst√§ndig mit einem Schritt (√ºberkreuzt oder seitw√§rts ist in Ordnung).</option>
    <option value="1">(1) Moderat: Mehrere Schritte sind notwendig, um das Gleichgewicht wieder herzustellen.</option>
    <option value="0">(0) Schwer: St√ºrzt oder Schritt nicht m√∂glich.</option>
  </select>
</div>
<div class="question-block">
  <label for="q7">7. STAND (F√ú·∫ûE ZUSAMMEN); AUGEN GE√ñFFNET, FESTER UNTERGRUND</label>
  <p><strong>Anweisung:</strong> ‚ÄûLegen Sie Ihre H√§nde auf die H√ºften. Stellen Sie Ihre F√º√üe zusammen, sodass sie sich beinahe ber√ºhren. Schauen Sie geradeaus. Bleiben Sie so stabil und ruhig stehen wie m√∂glich, bis ich Stopp sage.‚Äú</p>
  <select name="q7" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: 30 Sek.</option>
    <option value="1">(1) Moderat: < 30 Sek.</option>
    <option value="0">(0) Schwer: Nicht m√∂glich.</option>
  </select>
</div>
<div class="question-block">
  <label for="q8">8. STAND (F√ú·∫ûE ZUSAMMEN); AUGEN GESCHLOSSEN, SCHAUMSTOFF-UNTERGRUND</label>
  <p><strong>Anweisung:</strong> ‚ÄûStellen Sie sich auf den Schaumstoff Untergrund. Legen Sie Ihre H√§nde auf die H√ºften. Stellen Sie Ihre F√º√üe zusammen, sodass sie sich beinahe ber√ºhren. Bleiben Sie so stabil und ruhig stehen wie m√∂glich, bis ich Stopp sage. Ich werde beginnen, die Zeit zu messen, sobald Sie Ihre Augen schlie√üen.‚Äú</p>
  <select name="q8" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: 30 Sek.</option>
    <option value="1">(1) Moderat: < 30 Sek.</option>
    <option value="0">(0) Nicht m√∂glich.</option>
  </select>
</div>
<div class="question-block">
  <label for="q9">9. STEIGUNG - AUGEN GESCHLOSSEN</label>
  <p><strong>Anweisung:</strong> ‚ÄûBitte stellen Sie sich auf die Rampe mit Steigung mit den Zehenspitzen in Richtung Oberkante der Rampe. Stellen Sie sich schulterbreit hin, mit den Armen an Ihrer Seite. Ich werde beginnen, die Zeit zu messen, sobald Sie Ihre Augen schlie√üen.‚Äú</p>
  <select name="q9" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: Steht selbstst√§ndig 30 Sek. und passt die K√∂rperhaltung der Schwerkraft an.</option>
    <option value="1">(1) Moderat: Steht selbstst√§ndig <30 Sek. ODER passt die K√∂rperhaltung dem Untergrund an.</option>
    <option value="0">(0) Schwer: Nicht m√∂glich.</option>
  </select>
</div>
<div class="question-block">
  <label for="q10">10. √ÑNDERUNG DER GEHGESCHWINDIGKEIT</label>
  <p><strong>Anweisung:</strong> ‚ÄûBeginnen Sie, in Ihrer normalen Geschwindigkeit zu gehen, wenn ich ‚Äöschnell‚Äò sage, gehen Sie so schnell Sie k√∂nnen. Wenn ich ‚Äölangsam‚Äò sage, gehen Sie sehr langsam.‚Äú</p>
  <select name="q10" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: √Ñndert deutlich die Gehgeschwindigkeit ohne Anzeichen von Gleichgewichtsbeeintr√§chtigungen.</option>
    <option value="1">(1) Moderat: Nicht m√∂glich die Gehgeschwindigkeit zu √§ndern oder Anzeichen von Gleichgewichtsbeeintr√§chtigungen.</option>
    <option value="0">(0) Schwer: Nicht m√∂glich, eine deutliche √Ñnderung der Gehgeschwindigkeit zu erreichen UND Anzeichen von Gleichgewichtsbeeintr√§chtigungen.</option>
  </select>
</div>
<div class="question-block">
  <label for="q11">11. GEHEN MIT KOPFDREHUNGEN - HORIZONTAL</label>
  <p><strong>Anweisung:</strong> ‚ÄûBeginnen Sie, in Ihrer normalen Geschwindigkeit zu gehen, wenn ich ‚Äörechts‚Äò sage, drehen Sie Ihren Kopf und schauen nach rechts. Wenn ich ‚Äölinks‚Äò sage, drehen Sie Ihren Kopf und schauen nach links. Versuchen Sie, auf einer gerade Linie zu gehen.‚Äú</p>
  <select name="q11" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: F√ºhrt Kopfdrehungen ohne √Ñnderung der Gehgeschwindigkeit und h√§lt das Gleichgewicht.</option>
    <option value="1">(1) Moderat: F√ºhrt Kopfdrehungen bei Verringerung der Gehgeschwindigkeit aus.</option>
    <option value="0">(0) Schwer: F√ºhrt Kopfdrehungen mit Gleichgewichtsbeeintr√§chtigungen aus.</option>
  </select>
</div>
<div class="question-block">
  <label for="q12">12. GEHEN MIT K√ñRPERDREHUNG</label>
  <p><strong>Anweisung:</strong> ‚ÄûBeginnen Sie, in Ihrer normalen Geschwindigkeit zu gehen. Wenn ich Ihnen sage ‚Äödrehen und Stopp‚Äò, drehen Sie sich, so schnell Sie k√∂nnen, um 180¬∞ und halten an. Nach der Drehung sollten Ihre F√º√üe eng zusammen stehen.‚Äú</p>
  <select name="q12" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: Dreht sich SCHNELL mit geschlossenen F√º√üen (‚â§ 3 Schritte) mit gutem Gleichgewicht.</option>
    <option value="1">(1) Moderat: Dreht sich LANGSAM mit geschlossenen F√º√üen (‚â• 4 Schritte) mit gutem Gleichgewicht.</option>
    <option value="0">(0) Schwer: Kann sich bei keiner Geschwindigkeit mit geschlossenen F√º√üen drehen und zeigt Gleichgewichts-beeintr√§chtigungen.</option>
  </select>
</div>
<div class="question-block">
  <label for="q13">13. GEHEN √úBER EIN HINDERNIS</label>
  <p><strong>Anweisung:</strong> ‚ÄûBeginnen Sie, in Ihrer normalen Geschwindigkeit zu gehen. Wenn Sie die Kiste erreichen, steigen Sie dar√ºber, nicht daran vorbei und gehen danach weiter.‚Äú</p>
  <select name="q13" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: F√§hig, √ºber die Kiste zu steigen, bei minimaler √Ñnderung der Gehgeschwindigkeit und mit gutem Gleichgewicht.</option>
    <option value="1">(1) Moderat: Steigt √ºber die Kiste, aber ber√ºhrt die Kiste ODER zeigt vorsichtiges Verhalten, indem die Gehgeschwindigkeit verlangsamt wird.</option>
    <option value="0">(0) Schwer: Nicht m√∂glich, √ºber die Kiste zu steigen ODER geht an der Kiste vorbei.</option>
  </select>
</div>
<div class="question-block">
  <label for="q14">14. TIMED UP & GO MIT DUAL TASK</label>
  <p><strong>Anweisung:</strong> ‚ÄûZ√§hlen Sie laut in Dreierschritten von r√ºckw√§rts. Wenn ich ‚Äölos‚Äò sage, stehen Sie vom Stuhl auf, gehen in Ihrer normalen Geschwindigkeit √ºber die Markierung auf dem Boden, drehen sich herum, gehen zur√ºck und setzen Sie sich wieder auf den Stuhl. Z√§hlen Sie die gesamte Zeit √ºber r√ºckw√§rts.‚Äú</p>
  <select name="q14" required>
    <option value="" disabled selected>Bitte ausw√§hlen</option>
    <option value="2">(2) Normal: Keine erkennbarer Unterschied im Sitzen, Stehen oder Gehen, w√§hrend des R√ºckw√§rtsz√§hlens, im Vergleich zum TUG ohne Dual Task.</option>
    <option value="1">(1) Moderat: Dual Task beeinflusst entweder das Z√§hlen ODER das Gehen (>10%) im Vergleich zum TUG ohne Dual Task.</option>
    <option value="0">(0) Schwer: H√∂rt w√§hrend des Gehens auf zu z√§hlen ODER bleibt w√§hrend des Z√§hlens stehen.</option>
  </select>
</div>
</form>

  <button type="button" onclick="calculateScore()">‚úÖ Score berechnen</button>
  <button type="button" onclick="generatePDF()">üìÑ PDF erstellen</button>

  <div id="result"></div>

  <script>
    function calculateScore() {
      let total = 0;
      let antizipatorisch = 0, reaktiv = 0, sensorisch = 0, dynamisch = 0;
      for (let i = 1; i <= 14; i++) {
        const sel = document.querySelector(`select[name='q${i}']`);
        if (!sel || sel.value === "") {
          alert("Bitte alle Aufgaben ausf√ºllen.");
          return;
        }
        const val = parseInt(sel.value);
        total += val;
        if (i >= 1 && i <= 3) antizipatorisch += val;
        else if (i >= 4 && i <= 6) reaktiv += val;
        else if (i >= 7 && i <= 9) sensorisch += val;
        else if (i >= 10 && i <= 14) dynamisch += val;
      }
      document.getElementById("result").innerHTML =
        `<p>Mini-BESTest Gesamtscore: <strong>${total} / 28</strong></p>
         <p>Antizipatorisch: <strong>${antizipatorisch} / 6</strong></p>
         <p>Reaktive posturale Kontrolle: <strong>${reaktiv} / 6</strong></p>
         <p>Sensorische Orientierung: <strong>${sensorisch} / 6</strong></p>
         <p>Dynamischer Gang: <strong>${dynamisch} / 10</strong></p>`;
    }

    function generatePDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.addFileToVFS("Roboto-Regular.ttf", window.robotoBase64);
      doc.addFont("Roboto-Regular.ttf", "Roboto", "normal");
      doc.setFont("Roboto", "normal");
      doc.setFontSize(14);

      let y = 15;
      const left = 15;
      const right = 190;
      const lineHeight = 8;
      let total = 0;
      let questionNumber = 1;
      const subscores = { ant: 0, reak: 0, sens: 0, dyn: 0 };

      for (let i = 1; i <= 14; i++) {
        const sel = document.querySelector(`select[name='q${i}']`);
        if (!sel || sel.value === "") continue;
        const rawLabel = document.querySelector(`label[for='q${i}']`).innerText;
        const labelText = rawLabel.replace(/^[0-9]+\.\s*/, "").trim();
        const fullLine = `${questionNumber}. ${labelText}`;
        const wrappedLines = doc.splitTextToSize(fullLine, 160);
        const val = parseInt(sel.value);
        total += val;
        if (i <= 3) subscores.ant += val;
        else if (i <= 6) subscores.reak += val;
        else if (i <= 9) subscores.sens += val;
        else subscores.dyn += val;
        wrappedLines.forEach((line, idx) => {
          doc.text(line, left, y);
          if (idx === 0) {
            doc.text(`${val}`, right, y, { align: "right" });
          }
          y += lineHeight;
        });
        y += 2;
        questionNumber++;
        if (y > 270) {
          doc.addPage();
          y = 20;
        }
      }

      y += 5;
      doc.setFontSize(13);
      doc.setFont(undefined, "bold");
      doc.text("Subscores", left, y); y += lineHeight;
      doc.setFont(undefined, "normal");
      doc.setFontSize(12);
      doc.text(`Antizipatorisch: ${subscores.ant} / 6`, left, y); y += lineHeight;
      doc.text(`Reaktiv-postural: ${subscores.reak} / 6`, left, y); y += lineHeight;
      doc.text(`Sensorisch: ${subscores.sens} / 6`, left, y); y += lineHeight;
      doc.text(`Dynamischer Gang: ${subscores.dyn} / 10`, left, y); y += lineHeight;

      y += 5;
      doc.setFont(undefined, "bold");
      doc.setFontSize(14);
      doc.text("Gesamtergebnis", left, y); y += lineHeight;
      doc.setFont(undefined, "normal");
      doc.setFontSize(12);
      doc.text(`Mini-BESTest Gesamtscore: ${total} / 28`, left, y); y += lineHeight;
      const today = new Date().toLocaleDateString("de-CH");
      doc.text(`Datum: ${today}`, left, y);

      doc.save("MiniBEST_Auswertung.pdf");
    }
  </script>

    <p><a href="index.html"> ‚¨ÖÔ∏è Zur√ºck zur Hauptseite</a></p>
</body>
</html>
