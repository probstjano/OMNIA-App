<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dynamic Gait Index (DGI)</title>
  <style>
    body {
      font-family: sans-serif;
      margin: 2rem;
      font-size: 16px;
      max-width: 1000px;
    }
    .question-block { margin-bottom: 2rem; }
    .question { font-weight: bold; margin-bottom: 0.5rem; }
    .toggle {
      color: #007acc;
      cursor: pointer;
      margin-bottom: 0.5rem;
      display: inline-block;
    }
    .instruction {
      display: none;
      margin-bottom: 0.5rem;
      color: #444;
      background: #f4f4f4;
      padding: 8px;
      border-left: 3px solid #007acc;
    }
    select {
      width: 100%;
      padding: 10px;
      font-size: 16px;
    }
    button {
      margin-top: 20px;
      padding: 10px 15px;
      font-size: 16px;
    }
    #result {
      margin-top: 2rem;
      font-weight: bold;
      white-space: pre-line;
    }
  </style>
</head>
<body>
  <h1>Dynamic Gait Index (DGI)</h1>
  <p>
    Die DGI bewertet die FÃ¤higkeit einer Person, das Gleichgewicht beim Gehen unter Ã¤usseren Anforderungen anzupassen (VestibulÃ¤re StÃ¶rungen, MS, CVI)
  </p>
  <p>
    Im Cenplex Behandlungsplan als <strong>Messung</strong> vorhanden. Hier durchfÃ¼hren/eintragen und Score Ã¼bertragen
  </p>

  <form id="dgiForm">
    <!-- Frage 1 -->
    <div class="question-block">
      <div class="question">1. Gehen auf ebener Gehstrecke (6.1 m)</div>
      <span class="toggle" onclick="toggleInstruction(this)">ğŸ“˜ Instruktion anzeigen</span>
      <div class="instruction">Gehen Sie in Ihrem normalen Tempo bis zur markierten Stelle.</div>
      <select name="q0">
        <option value="">-- Bewertung auswÃ¤hlen --</option>
        <option value="3">0) starke EinschrÃ¤nkung â€“ Kann nicht 6.1 m ohne Hilfsperson gehen, starke Gangabweichungen oder Gleichgewichtsprobleme.</option>
        <option value="2">1) mittlere EinschrÃ¤nkung â€“ 6.1 m Gehen, langsames Gehtempo, Hinkmechanismen, Gleichgewichtsprobleme.</option>
        <option value="1">2) leichte EinschrÃ¤nkung â€“ 6.1 m Gehen mit Gehhilfsmittel, Tempo verlangsamt, leichte Deviation.</option>
        <option value="0">3) normal â€“ 6.1 m Gehen, ohne Gehhilfsmittel, normales Tempo, keine GleichgewichtsstÃ¶rungen, normales Gangbild, kein Hinken.</option>
      </select>
    </div>

    <!-- Frage 2 -->
    <div class="question-block">
      <div class="question">2. Gehen mit Tempowechsel</div>
      <span class="toggle" onclick="toggleInstruction(this)">ğŸ“˜ Instruktion anzeigen</span>
      <div class="instruction">Beginnen Sie in Ihrem normalen Gehtempo (1.5 m), beschleunigen Sie, wenn ich sage, â€gehen Sie so schnell wie mÃ¶glichâ€œ (1.5 m). Wenn ich Ihnen sage â€langsamâ€œ, gehen Sie so langsam wie mÃ¶glich (1.5 m).</div>
      <select name="q1">
        <option value="">-- Bewertung auswÃ¤hlen --</option>
        <option value="3">0) starke EinschrÃ¤nkung â€“ Kein Tempo-Wechsel mÃ¶glich oder Gleichgewichtsverlust beim Versuch.</option>
        <option value="2">1) mittlere EinschrÃ¤nkung â€“ Nur kleine TempoverÃ¤nderungen oder Gleichgewichtsprobleme beim Tempowechsel.</option>
        <option value="1">2) leichte EinschrÃ¤nkung â€“ Tempowechsel mÃ¶glich, aber leichte Gangabweichung oder kein deutlicher Tempounterschied.</option>
        <option value="0">3) normal â€“ Fliessender Tempowechsel ohne Gleichgewichtsverlust oder Gangabweichung. Zeigt deutlichen Tempounterschied.</option>
      </select>
    </div>

    <!-- Frage 3 -->
    <div class="question-block">
      <div class="question">3. Gehen mit Kopfdrehung nach rechts und links</div>
      <span class="toggle" onclick="toggleInstruction(this)">ğŸ“˜ Instruktion anzeigen</span>
      <div class="instruction">Gehen Sie in Ihrem normalen Tempo. Wenn ich sage â€nach rechtsâ€œ, gehen Sie weiter mit Kopf nach rechts, dann nach links usw.</div>
      <select name="q2">
        <option value="">-- Bewertung auswÃ¤hlen --</option>
        <option value="3">0) starke EinschrÃ¤nkung â€“ Muss stehen bleiben oder verliert Gleichgewicht.</option>
        <option value="2">1) mittlere EinschrÃ¤nkung â€“ Mittlere Verlangsamung, zÃ¶gerlich, aber weitergehend.</option>
        <option value="1">2) leichte EinschrÃ¤nkung â€“ Leichte VerÃ¤nderung der Gehgeschwindigkeit oder Nutzung Gehhilfe.</option>
        <option value="0">3) normal â€“ Kopfdrehung flÃ¼ssig ohne VerÃ¤nderung des Ganges.</option>
      </select>
    </div>

    <!-- Frage 4 -->
    <div class="question-block">
      <div class="question">4. Gehen und nach oben und unten schauen</div>
      <span class="toggle" onclick="toggleInstruction(this)">ğŸ“˜ Instruktion anzeigen</span>
      <div class="instruction">Gehen Sie in normalem Tempo. Bei â€nach obenâ€œ: zur Decke blicken; bei â€nach untenâ€œ: auf den Boden schauen, ohne stehen zu bleiben.</div>
      <select name="q3">
        <option value="">-- Bewertung auswÃ¤hlen --</option>
        <option value="3">0) starke EinschrÃ¤nkung â€“ Muss stehen bleiben oder verliert Gleichgewicht deutlich.</option>
        <option value="2">1) mittlere EinschrÃ¤nkung â€“ MÃ¤ssige TempoverÃ¤nderung oder Schwanken, aber weitergehend.</option>
        <option value="1">2) leichte EinschrÃ¤nkung â€“ Leichte TempoverÃ¤nderung oder Nutzung Gehhilfe.</option>
        <option value="0">3) normal â€“ Kopfbewegungen flÃ¼ssig ohne VerÃ¤nderungen im Gang.</option>
      </select>
    </div>

    <!-- Frage 5 -->
    <div class="question-block">
      <div class="question">5. Gehen und Drehung um 180Â°</div>
      <span class="toggle" onclick="toggleInstruction(this)">ğŸ“˜ Instruktion anzeigen</span>
      <div class="instruction">Gehen Sie normal. Bei â€Stopp und drehenâ€œ: drehen Sie sich zÃ¼gig um 180Â° und stoppen Sie.</div>
      <select name="q4">
        <option value="">-- Bewertung auswÃ¤hlen --</option>
        <option value="3">0) starke EinschrÃ¤nkung â€“ Drehen nicht selbstÃ¤ndig oder unsicher.</option>
        <option value="2">1) mittlere EinschrÃ¤nkung â€“ Langsam, mit Hilfe oder kleinen Korrekturschritten.</option>
        <option value="1">2) leichte EinschrÃ¤nkung â€“ Sicher, aber langsamer (>3 s).</option>
        <option value="0">3) normal â€“ Sicheres Drehen in <3 Sekunden ohne Gleichgewichtsverlust.</option>
      </select>
    </div>

    <!-- Frage 6 -->
    <div class="question-block">
      <div class="question">6. Gehen Ã¼ber Hindernisse</div>
      <span class="toggle" onclick="toggleInstruction(this)">ğŸ“˜ Instruktion anzeigen</span>
      <div class="instruction">Gehen Sie normal. Wenn Sie zur Schuhschachtel kommen, steigen Sie darÃ¼ber und gehen weiter.</div>
      <select name="q5">
        <option value="">-- Bewertung auswÃ¤hlen --</option>
        <option value="3">0) starke EinschrÃ¤nkung â€“ Kann Aufgabe nicht ohne Hilfe ausfÃ¼hren.</option>
        <option value="2">1) mittlere EinschrÃ¤nkung â€“ Muss anhalten oder braucht Hilfe.</option>
        <option value="1">2) leichte EinschrÃ¤nkung â€“ Bremst etwas, passt Schritte an.</option>
        <option value="0">3) normal â€“ Steigt ohne Tempoverlust oder Gleichgewichtsprobleme.</option>
      </select>
    </div>

    <!-- Frage 7 -->
    <div class="question-block">
      <div class="question">7. Gehen um Hindernisse</div>
      <span class="toggle" onclick="toggleInstruction(this)">ğŸ“˜ Instruktion anzeigen</span>
      <div class="instruction">Gehen Sie geradeaus. Umgehen Sie die erste Keule rechts, die zweite links.</div>
      <select name="q6">
        <option value="">-- Bewertung auswÃ¤hlen --</option>
        <option value="3">0) starke EinschrÃ¤nkung â€“ Wirft Hindernis um oder braucht taktile Hilfe.</option>
        <option value="2">1) mittlere EinschrÃ¤nkung â€“ Muss stark abbremsen oder braucht Hilfe.</option>
        <option value="1">2) leichte EinschrÃ¤nkung â€“ Bremst, passt Schritte an.</option>
        <option value="0">3) normal â€“ Umrundet beide Hindernisse flÃ¼ssig und sicher.</option>
      </select>
    </div>

    <!-- Frage 8 -->
    <div class="question-block">
      <div class="question">8. Treppe</div>
      <span class="toggle" onclick="toggleInstruction(this)">ğŸ“˜ Instruktion anzeigen</span>
      <div class="instruction">Steigen Sie die Treppe hoch wie zuhause (mit oder ohne GelÃ¤nder), oben drehen und wieder runter.</div>
      <select name="q7">
        <option value="">-- Bewertung auswÃ¤hlen --</option>
        <option value="3">0) starke EinschrÃ¤nkung â€“ Kann Aufgabe nicht sicher ausfÃ¼hren.</option>
        <option value="2">1) mittlere EinschrÃ¤nkung â€“ Nicht alternierend mit GelÃ¤nder.</option>
        <option value="1">2) leichte EinschrÃ¤nkung â€“ Alternierend mit GelÃ¤nder.</option>
        <option value="0">3) normal â€“ Alternierend, ohne GelÃ¤nder.</option>
      </select>
    </div>

    <button type="button" onclick="calculateScore()">âœ… Score berechnen</button>
    <button type="button" onclick="generatePDF()">ğŸ“„ PDF exportieren</button>
  </form>

  <div id="result"></div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script>
    function toggleInstruction(el) {
      const box = el.nextElementSibling;
      box.style.display = box.style.display === "block" ? "none" : "block";
      el.innerText = box.style.display === "block"
        ? "âŒ Instruktion verbergen"
        : "ğŸ“˜ Instruktion anzeigen";
    }

    function calculateScore() {
      let total = 0;
      for (let i = 0; i < 8; i++) {
        const val = document.querySelector(`select[name="q${i}"]`).value;
        if (val === "") return alert("Bitte alle Fragen beantworten.");
        total += parseInt(val);
      }
      document.getElementById("result").innerText = `Gesamtscore: ${total} / 24`;
    }

    async function generatePDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      doc.setFont("helvetica", "normal");
      doc.setFontSize(16);
      doc.text("Dynamic Gait Index (DGI) â€“ Auswertung", 10, 15);
      doc.setFontSize(12);

      let y = 25;
      let total = 0;

      for (let i = 0; i < 8; i++) {
        const block = document.querySelectorAll(".question-block")[i];
        const question = block.querySelector(".question").innerText;
        const sel = document.querySelector(`select[name="q${i}"]`);
        const score = sel.value;
        total += parseInt(score);
        doc.text(`${question}`, 10, y);
        doc.text(`Punkte: ${score}`, 150, y);
        y += 8;
        if (y > 270) { doc.addPage(); y = 20; }
      }

      doc.setFontSize(14);
      y += 10;
      doc.text(`Gesamtscore: ${total} / 24`, 10, y);
      doc.save("DGI_Auswertung.pdf");
    }
  </script>

  <p><a href="index.html">â¬…ï¸ ZurÃ¼ck zur Hauptseite</a></p>
</body>
</html>
